<h2>Gestión de Subcategorías</h2>

<form (ngSubmit)="guardar()" #form="ngForm" style="display: flex; gap: 10px; margin-bottom: 15px;">
  <input type="text" [(ngModel)]="nueva.nombre" name="nombre" placeholder="Nombre" required />
  
  <select [(ngModel)]="nueva.categoria_id" name="categoria_id" required>
    <option value="" disabled selected>Seleccione categoría</option>
    <option *ngFor="let cat of categorias" [value]="cat.id">{{ cat.nombre }}</option>
  </select>

  <button type="submit" [disabled]="form.invalid">
    {{ nueva.id !== null ? 'Actualizar' : 'Guardar' }}
  </button>
</form>

<table border="1" cellpadding="10" cellspacing="0">
  <thead>
    <tr>
      <th>Nombre</th>
      <th>Categoría</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let sub of subcategorias">
      <td>{{ sub.nombre }}</td>
      <td>{{ sub.categoria?.nombre }}</td>
      <td>
        <button (click)="editar(sub)">Editar</button>
        <button (click)="eliminar(sub.id)">Eliminar</button>
      </td>
    </tr>
  </tbody>
</table>
